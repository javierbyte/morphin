(this.webpackJsonpmorphin=this.webpackJsonpmorphin||[]).push([[0],{28:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(2),r=n(9),i=n.n(r),s=n(10),h=n.n(s);function o(e){const t=e.toString(16);return 1==t.length?"0"+t:t}var l=function(e){const t="rgb(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(Math.ceil(e.a/255*10)/10,")");if(e.a<240)return t;const n=(c=e.r,a=e.g,r=e.b,"#"+o(c)+o(a)+o(r));var c,a,r;switch(n){case"#c0c0c0":return"silver";case"#808080":return"gray";case"#800000":return"maroon";case"#ff0000":return"red";case"#800080":return"purple";case"#008000":return"green";case"#808000":return"olive";case"#000080":return"navy";case"#008080":return"teal"}return n[1]===n[2]&&n[3]===n[4]&&n[5]===n[6]?"#"+n[1]+n[3]+n[5]:n};var j=function(e,t){const n=new Image;n.crossOrigin="Anonymous",n.onload=function(){let e=document.createElement("CANVAS");const n=e.getContext("2d");e.height=this.height,e.width=this.width,n.drawImage(this,0,0);const c=e.toDataURL();t(c),e=null},n.src=e},d=n(11),b=n.n(d),x=n(1);const{base64ImageToRGBArray:g}=b.a,p={Yoshi:{name:"Yoshi",sprites:["yoshi1.png","yoshi2.png"]},"3 Dots":{name:"3 Dots",sprites:["3dots1.png","3dots2.png"],scale:8,transition:80,alternate:!1,sortMethod:"Brightness"},Square:{name:"Square",sprites:["square1.png","square2.png"],scale:12,transition:100,alternate:!1,sortMethod:"Brightness"},Mario:{name:"Mario",sprites:["mario1.png","mario2.png"]},Pikachu:{name:"Pikachu",sprites:["pikachu.png","raichu.png"],sortMethod:"Brightness"},Supermario:{name:"Super Mario",sprites:["supermario1.png","supermario2.png"],sortMethod:"Horizontal"}};const O={Diagonal:[e=>Math.floor((e.x-e.y)/3),e=>e.rgb.r+e.rgb.g+e.rgb.b],Vertical:[e=>e.x],Horizontal:[e=>e.y],Brightness:[e=>Math.floor((e.rgb.r+e.rgb.g+e.rgb.b)/2)]};function u(e,{sortMethod:t="Brightness",scale:n=1}){return h.a.chain(e).filter((e=>!(e.rgb.a<1||e.rgb.r>254&&e.rgb.g>254&&e.rgb.b>254))).sortBy(O[t]).map((e=>{const t=l(e.rgb);return"".concat(t," ").concat((e.x+1)*n,"px ").concat((e.y+1)*n,"px")})).compact().value().join(",")}function m(e,t,n){j(e,(e=>{g(e,((t,c)=>{const a=c.reduce(((e,t)=>Math.max(e,t.y)),-1/0),r=c.reduce(((e,t)=>Math.min(e,t.y)),1/0),i=c.reduce(((e,t)=>Math.max(e,t.x)),-1/0),s=c.reduce(((e,t)=>Math.min(e,t.x)),1/0);n({src:e,rgbArray:c,height:Math.abs(a-r)+1,width:Math.abs(i-s)+1})}))}))}var y=function(){const[e,t]=Object(a.useState)(Math.round(Math.pow(1e3,1/2.2))),n=Math.round(Math.pow(e,2.2))+11+16,[r,i]=Object(a.useState)(25),[s,h]=Object(a.useState)(!0),[o,l]=Object(a.useState)("Yoshi"),[j,d]=Object(a.useState)("Vertical"),[b,y]=Object(a.useState)(5),[f,w]=Object(a.useState)({shadow:null,height:5,width:5}),[v,M]=Object(a.useState)({shadow:null,height:5,width:5});Object(a.useEffect)((()=>{o&&(m("".concat(document.location.href,"/sprites/").concat(p[o].sprites[0]),0,w),m("".concat(document.location.href,"/sprites/").concat(p[o].sprites[1]),0,M),w({shadow:null,height:0,width:0}),M({shadow:null,height:0,width:0}),y(p[o].scale||3),i(p[o].transition||25),h(void 0===p[o].alternate||p[o].alternate),d(p[o].sortMethod||"Vertical"))}),[o]);const S=Math.max(f.width,v.width)*b,q=Math.max(f.height,v.height)*b,C="\n@keyframes morphin {\n  0%, ".concat(50-r/2,"% {\n    box-shadow: ").concat(u(f.rgbArray,{scale:b,sortMethod:j,translationX:S/-2,translationY:q/-2}),";\n  }\n  ").concat(50+r/2,"%, 100% {\n    box-shadow: ").concat(u(v.rgbArray,{scale:b,sortMethod:j,translationX:S/-2,translationY:q/-2}),";\n  }\n}\n\n.pixel {\n  height: ").concat(b,"px;\n  width: ").concat(b,"px;\n  margin: ").concat(-b,"px ").concat(q+2*b,"px ").concat(S+2*b,"px ").concat(-b,"px;\n  animation: morphin ").concat(n,"ms infinite").concat(s?" alternate ":" ","cubic-bezier(0.45, 0, 0.55, 1);\n}").trim();function k(e,t,n){l(null),e.stopPropagation(),e.preventDefault();const c=e.dataTransfer,a=(c?c.files:e.target.files)[0],r=new window.FileReader;r.onload=async e=>{const n=e.currentTarget.result,[c]=await function(e,t=3200){return new Promise((n=>{let c=new Image;c.src=e,c.onload=()=>{let e=document.createElement("canvas");const a=c.width,r=c.height;let i=c.width,s=c.height;for(;i*s>t;)i/=Math.sqrt(2,2),s/=Math.sqrt(2,2);i=Math.round(i),s=Math.round(s),e.width=i,e.height=s,e.getContext("2d").drawImage(c,0,0,i,s),n([e.toDataURL(),{originalWidth:a,originalHeight:r}])}}))}(n);!function(e,t,n){g(e,((t,c)=>{const a=c.reduce(((e,t)=>Math.max(e,t.y)),-1/0),r=c.reduce(((e,t)=>Math.min(e,t.y)),1/0),i=c.reduce(((e,t)=>Math.max(e,t.x)),-1/0),s=c.reduce(((e,t)=>Math.min(e,t.x)),1/0);n({src:e,rgbArray:c,height:Math.abs(a-r)+1,width:Math.abs(i-s)+1})}))}(c,0,t)},r.readAsDataURL(a)}function D(e){e.stopPropagation(),e.preventDefault()}return Object(c.jsxs)(x.e,{children:[Object(c.jsx)(x.k,{accent:"#ab99cf"}),Object(c.jsxs)(x.b,{padding:2,children:[Object(c.jsx)(x.n,{h:1}),Object(c.jsx)(x.g,{style:{fontWeight:900,display:"inline-block",width:"auto",padding:"6px",backgroundColor:"var(--accent-color)"},children:"morphin"}),Object(c.jsx)(x.n,{h:1}),Object(c.jsx)(x.q,{children:"Tool that creates animated CSS transitions. Add sprites and get the code ready to paste in your site."}),Object(c.jsx)(x.n,{h:2}),Object(c.jsx)(x.p,{children:Object(c.jsxs)(x.j,{children:[Object(c.jsx)(x.o,{info:!0,children:Object(c.jsx)(x.q,{children:"Examples: "})}),Object.keys(p).map((e=>Object(c.jsx)(x.o,{active:o===e,onClick:()=>{l(e)},children:Object(c.jsx)(x.q,{children:e})},e)))]})}),Object(c.jsx)(x.n,{h:1}),Object(c.jsxs)(x.j,{children:[Object(c.jsxs)(x.f,{onDrop:e=>k(e,w),onDragOver:D,onDragEnter:D,children:[Object(c.jsx)("div",{style:{display:"flex",height:48,width:48,alignItems:"center",alignContent:"center",justifyContent:"center"},children:f.height&&Object(c.jsx)("img",{style:{height:32/Math.max(f.height,f.width)*f.height,width:32/Math.max(f.height,f.width)*f.width,display:"block",imageRendering:"crisp-edges"},"aria-label":"Sprite A",src:f.src})}),Object(c.jsx)(x.q,{children:"Sprite 1"}),Object(c.jsx)("input",{type:"file",onChange:e=>k(e,w),accept:"image/*","aria-label":"Drop an image here, or click to select"})]}),Object(c.jsx)(x.n,{h:1,w:1}),Object(c.jsxs)(x.f,{onDrop:e=>k(e,M),onDragOver:D,onDragEnter:D,children:[Object(c.jsx)("div",{style:{display:"flex",height:48,width:48,alignItems:"center",alignContent:"center",justifyContent:"center"},children:v.height&&Object(c.jsx)("img",{style:{height:32/Math.max(v.height,v.width)*v.height,width:32/Math.max(v.height,v.width)*v.width,display:"block",imageRendering:"crisp-edges"},"aria-label":"Sprite B",src:v.src})}),Object(c.jsx)(x.q,{children:"Sprite 2"}),Object(c.jsx)("input",{type:"file",onChange:e=>k(e,M),accept:"image/*","aria-label":"Drop an image here, or click to select"})]})]}),Object(c.jsx)(x.n,{h:2}),Object(c.jsx)(x.h,{children:"Preview"}),Object(c.jsx)(x.n,{h:1}),Object(c.jsx)("style",{children:C}),Object(c.jsx)("div",{className:"pixel"},C),Object(c.jsx)(x.n,{h:2}),Object(c.jsx)(x.p,{children:Object(c.jsxs)(x.j,{children:[Object(c.jsx)(x.o,{info:!0,children:Object(c.jsx)(x.q,{children:"Pixel matching method:"})}),Object.keys(O).map((e=>Object(c.jsx)(x.o,{active:j===e,onClick:()=>{d(e)},children:Object(c.jsx)(x.q,{children:e})},e)))]})}),Object(c.jsx)(x.n,{h:1}),Object(c.jsx)(x.p,{children:Object(c.jsxs)(x.j,{children:[Object(c.jsx)(x.o,{info:!0,children:Object(c.jsx)(x.q,{children:"Alternate:"})}),Object(c.jsx)(x.o,{active:!0===s,onClick:()=>{h(!0)},children:Object(c.jsx)(x.q,{children:"Yes"})}),Object(c.jsx)(x.o,{active:!1===s,onClick:()=>{h(!1)},children:Object(c.jsx)(x.q,{children:"No"})})]})}),Object(c.jsx)(x.n,{h:1}),Object(c.jsxs)(x.j,{h:-1,children:[Object(c.jsxs)(x.b,{flex:1,padding:[.5,1],minWidth:"240px",children:[Object(c.jsxs)(x.q,{children:["Scale ",Object(c.jsx)("span",{style:{color:"#666"},children:b})]}),Object(c.jsx)(x.n,{h:1}),Object(c.jsx)(x.m,{"aria-label":"Scale",type:"range",value:b,onChange:e=>y(Number(e.target.value)),min:"1",max:"25",step:"0.5"})]}),Object(c.jsxs)(x.b,{flex:1,padding:[.5,1],minWidth:"240px",children:[Object(c.jsxs)(x.q,{children:["Transition ",Object(c.jsxs)("span",{style:{color:"#666"},children:[r,"%"]})]}),Object(c.jsx)(x.n,{h:1}),Object(c.jsx)(x.m,{"aria-label":"Transition Speed",type:"range",value:r,onChange:e=>i(e.target.value),min:"1",max:"100"})]}),Object(c.jsxs)(x.b,{flex:1,padding:[.5,1],minWidth:"240px",children:[Object(c.jsxs)(x.q,{children:["Speed ",Object(c.jsxs)("span",{style:{color:"#666"},children:[n,"ms"]})]}),Object(c.jsx)(x.n,{h:1}),Object(c.jsx)(x.m,{"aria-label":"Animation Speed",type:"range",value:e,onChange:e=>t(e.target.value),step:"0.5",min:"2",max:Math.ceil(Math.pow(8192,1/2.2))})]})]}),Object(c.jsx)(x.n,{h:2}),Object(c.jsx)(x.i,{children:"Code"}),Object(c.jsx)(x.n,{h:1}),Object(c.jsx)("code",{children:Object(c.jsx)(x.d,{"aria-label":"Generated code",onChange:()=>{},className:"code",value:C})}),Object(c.jsx)(x.n,{h:1}),navigator&&navigator.clipboard&&navigator.clipboard.writeText&&Object(c.jsx)(x.c,{onClick:()=>{navigator.clipboard.writeText(C)},children:"Copy Code"}),Object(c.jsx)(x.n,{h:2}),Object(c.jsxs)(x.q,{children:["For a simpler image to box-shadow conversion, see ",Object(c.jsx)(x.a,{href:"https://javier.xyz/img2css/",children:"img2css"}),"."]}),Object(c.jsx)(x.n,{h:2}),Object(c.jsx)(x.q,{children:"More unrelated experiments"}),Object(c.jsx)(x.n,{h:.5}),Object(c.jsxs)(x.r,{children:[Object(c.jsx)(x.l,{children:Object(c.jsxs)(x.q,{children:["Create more cohesive color schemes, ",Object(c.jsx)(x.a,{href:"https://javier.xyz/cohesive-colors/",children:"cohesive-colors"}),"."]})}),Object(c.jsx)(x.l,{children:Object(c.jsxs)(x.q,{children:["Find the visual center of your images / logos,"," ",Object(c.jsx)(x.a,{href:"https://javier.xyz/visual-center/",children:"visual-center"}),"."]})}),Object(c.jsx)(x.l,{children:Object(c.jsxs)(x.q,{children:["JS AI Battle Game, ",Object(c.jsx)(x.a,{href:"https://clashjs.com/",children:"clashjs"}),"."]})})]}),Object(c.jsx)(x.n,{h:2}),Object(c.jsxs)(x.q,{children:["Made by ",Object(c.jsx)(x.a,{href:"https://javier.xyz",children:"javierbyte"}),"."]}),Object(c.jsx)(x.n,{h:3})]})]})};i.a.render(Object(c.jsx)(y,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.76307cd2.chunk.js.map